### JS基础

#### var和let

var声明的变量被挂载在全局对象上，具有函数作用域而非块级作用域，可以重复声明。

let在全局上下文中声明，仍遵循块级作用域原则，但在全局上下文中声明，它们的作用域是整个脚本或模块。

```javascript
if (true) {
    let blockVar = 'Block scope';
}
console.log(blockVar); // ReferenceError: blockVar is not defined

```

适用场景：

1. **使用 `let`**：
   - 当你希望变量具有块级作用域时。
   - 当你希望避免全局变量污染或与全局对象属性冲突时。
   - 当你希望避免重复声明变量时。
2. **使用 `var`**：
   - 在需要兼容老旧浏览器或遗留代码的情况下。
   - 当变量需要挂载到全局对象上时（不推荐此做法，会增加全局命名空间污染的风险）。



#### 零碎基础知识

1、 除了在比较对象属性为`null`或者`undefined`的情况下，我们可以使用相等操作符（`==`），其他情况建议一律使用全等操作符（`===`） 

2、`this`永远指向的是最后调用它的对象 。当构造函数的返回值是基本类型或null的时候会被无视，将仍然返回创造的实例。

3、箭头函数不具有自己的this，而是在定义时捕获定义的上下文中的this。箭头函数的this不受调用环境的影响，始终是定义时的this。



### 设计思想

#### MVVM和MVC

MVC中Controller演变成MVVM中的viewModel，MVVM主要解决了MVC中大量的DOM操作使页面渲染性能降低，加载速度变慢，影响用户体验，vue数据驱动，通过数据来显示视图层而不是节点操作，

场景：数据操作比较多的场景，需要大量操作DOM元素时，采用MVVM的开发方式，会更加便捷，让开发者更多的精力放在数据的变化上，解放繁琐的操作DOM元素。

 MVC和MVVM的区别并不是VM完全取代了C，只是在MVC的基础上增加了一层VM，不过是弱化了C的概念，ViewModel存在目的在于抽离Controller中展示的业务逻辑，而不是替代Controller，其它视图操作业务等还是应该放在Controller中实现，也就是说MVVM实现的是业务逻辑组件的重用，使开发更高效，结构更清晰，增加代码的复用性。 



#### Vue和React对比

相同点

- 都有组件化思想
- 都支持服务器端渲染
- 都有Virtual DOM（虚拟dom）
- 数据驱动视图
- 都有支持native的方案：`Vue`的`weex`、`React`的`React native`
- 都有自己的构建工具：`Vue`的`vue-cli`、`React`的`Create React App`

区别

- 数据流向不同。`react`从诞生开始就推崇单向数据流，而`Vue`是双向数据流
- 数据变化的实现原理不同。`react`使用的是不可变数据，而`Vue`使用的是可变的数据
- 组件化通信不同。`react`中我们通过使用回调函数来进行通信的，而`Vue`中子组件向父组件传递消息有两种方式：事件和回调函数
- diff算法不同。`react`主要使用diff队列保存需要更新哪些DOM，得到patch树，再统一操作批量更新DOM。`Vue` 使用双向指针，边对比，边更新DOM。



由于`DOM`是一个树结构，如果在父子节点绑定事件时候，当触发子节点的时候，就存在一个顺序问题，这就涉及到了事件流的概念

事件流都会经历的三个阶段：

- 事件捕获阶段(capture phase)
- 处于目标阶段(target phase)
- 事件冒泡阶段(bubbling phase)

 

それから、 「刀剣乱舞絢爛図録」 でも、この二人は折り込みページで一緒に立っていて、他のキャラクターたちは刀派ごとに分けられているのに対してです。やっぱりみんな無意識にこの二人を一緒に並べるのでしょうね！ 